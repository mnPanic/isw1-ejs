

----QUIT----(13 November 2021 20:18:32) CuisUniversity-4972.image priorSource: 14896235!

----STARTUP---- (13 November 2021 20:18:33) as /Users/hernan/Documents/Cuis/5.0-64Bits/Cuis-University-Installer/CuisUniversity-4972.image!


----QUIT----(13 November 2021 20:18:33) CuisUniversity-4972.image priorSource: 18974023!

----STARTUP---- (15 November 2021 18:22:24) as /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/CuisUniversity-4972.image!


CodePackage subclass: #ColorExtrasPackage
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Color-Extras'!

!classDefinition: #ColorExtrasPackage category: 'Color-Extras' stamp: 'Install-Color-Extras 11/15/2021 18:22:58'!
CodePackage subclass: #ColorExtrasPackage
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Color-Extras'!

ColorExtrasPackage class
	instanceVariableNames: ''!

!classDefinition: 'ColorExtrasPackage class' category: 'Color-Extras' stamp: 'Install-Color-Extras 11/15/2021 18:22:58'!
ColorExtrasPackage class
	instanceVariableNames: ''!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Features/Color-Extras.pck.st----!

CodePackage subclass: #MorphicMisc1Package
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Morphic-Misc1'!

!classDefinition: #MorphicMisc1Package category: 'Morphic-Misc1' stamp: 'Install-Morphic-Misc1 11/15/2021 18:23:00'!
CodePackage subclass: #MorphicMisc1Package
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Morphic-Misc1'!
!MorphicMisc1Package commentStamp: '<historical>' prior: 0!
My purpose in life is to check that any base image methods overridden have not been updated.
See #MorphMisc1Package class>>prePackageInstall!

MorphicMisc1Package class
	instanceVariableNames: ''!

!classDefinition: 'MorphicMisc1Package class' category: 'Morphic-Misc1' stamp: 'Install-Morphic-Misc1 11/15/2021 18:23:00'!
MorphicMisc1Package class
	instanceVariableNames: ''!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Morphic/Morphic-Misc1/Morphic-Misc1.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Morphic/Morphic-Widgets-Extras.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/2021-2c/20-TusLibros/Iteracion 4/StringsServicesServer.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/System/Collections-CompactArrays.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Features/Compression.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Features/Sound.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Features/Cryptography-DigitalSignatures.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Features/Identities-UUID.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/System/Network-Kernel.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/2021-2c/20-TusLibros/Iteracion 4/WebClient.pck.st----!

----STARTUP---- (15 November 2021 18:26:54) as /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/CuisUniversity-4972.image!


----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/System/Collections-CompactArrays.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Features/Compression.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Features/Sound.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Features/Cryptography-DigitalSignatures.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Features/Identities-UUID.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/System/Network-Kernel.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/2021-2c/20-TusLibros/Iteracion 4/WebClient.pck.st----!

CodePackage subclass: #ColorExtrasPackage
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Color-Extras'!

!classDefinition: #ColorExtrasPackage category: 'Color-Extras' stamp: 'Install-Color-Extras 11/15/2021 18:29:50'!
CodePackage subclass: #ColorExtrasPackage
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Color-Extras'!

ColorExtrasPackage class
	instanceVariableNames: ''!

!classDefinition: 'ColorExtrasPackage class' category: 'Color-Extras' stamp: 'Install-Color-Extras 11/15/2021 18:29:50'!
ColorExtrasPackage class
	instanceVariableNames: ''!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Features/Color-Extras.pck.st----!

CodePackage subclass: #MorphicMisc1Package
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Morphic-Misc1'!

!classDefinition: #MorphicMisc1Package category: 'Morphic-Misc1' stamp: 'Install-Morphic-Misc1 11/15/2021 18:29:52'!
CodePackage subclass: #MorphicMisc1Package
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Morphic-Misc1'!
!MorphicMisc1Package commentStamp: '<historical>' prior: 0!
My purpose in life is to check that any base image methods overridden have not been updated.
See #MorphMisc1Package class>>prePackageInstall!

MorphicMisc1Package class
	instanceVariableNames: ''!

!classDefinition: 'MorphicMisc1Package class' category: 'Morphic-Misc1' stamp: 'Install-Morphic-Misc1 11/15/2021 18:29:52'!
MorphicMisc1Package class
	instanceVariableNames: ''!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Morphic/Morphic-Misc1/Morphic-Misc1.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Morphic/Morphic-Widgets-Extras.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/Packages/Morphic/Morphic-Widgets-Extras.pck.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/2021-2c/20-TusLibros/Iteracion 4/StringsServicesServer.st----!

----End fileIn of /home/ignacio/Documents/Facultad/repos-isw1/2021-2c/20-TusLibros/Iteracion 4/WordsClientDemo.st----!

----QUIT----(15 November 2021 18:32:19) CuisUniversity-4972.image priorSource: 18974255!

----STARTUP---- (26 November 2021 19:37:13) as /home/ignacio/Documents/Facultad/repos-isw1/isw1/vms/tus-libros-vm/CuisUniversity-4972.image!


----End fileIn of /tmp/TusLibros.st----!
!TusLibrosClientMainWindow methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 19:41:45' prior: 50973585!
buildCartColumn
	
	| removeFromCartButtonMorph |
	cartMorph := PluggableListMorph 
		model: self model 
		listGetter: #cartProducts
		indexGetter: #cartIndex
		indexSetter: #cartIndex:.

	removeFromCartButtonMorph _ PluggableButtonMorph 
		model: self model
		stateGetter: nil 
		action: #removeFromCart
		label: 'Add to cart'.
	
	^ LayoutMorph newColumn
		addMorph: cartMorph;
		addMorph: removeFromCartButtonMorph;
		axisEdgeWeight: 0.5;
		yourself.
		
! !
!TusLibrosClientMainWindow methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 19:42:00' prior: 50975727!
buildCartColumn
	
	| removeFromCartButtonMorph |
	cartMorph := PluggableListMorph 
		model: self model 
		listGetter: #cartProducts
		indexGetter: #cartIndex
		indexSetter: #cartIndex:.

	removeFromCartButtonMorph _ PluggableButtonMorph 
		model: self model
		stateGetter: nil 
		action: #removeFromCart
		label: 'Remove from cart'.
	
	^ LayoutMorph newColumn
		addMorph: cartMorph;
		addMorph: removeFromCartButtonMorph;
		axisEdgeWeight: 0.5;
		yourself.
		
! !
!TusLibrosClientModel methodsFor: 'requests' stamp: 'IAR 11/26/2021 19:45:17' prior: 50975219!
listCartRequest

	| resp |

	resp _ WebClient 
		htmlSubmit: self url, '/listCart' 
		fields: { 'cartId' -> cartId }
		method: 'GET'.

	resp isSuccess 
		ifTrue: [^ (TusLibrosEncoder decodeBookCollection: resp content readStream) ]
		ifFalse:[ ^ self error: resp content ].! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 19:52:02' prior: 50975150!
cartProducts
	
	| cartProducts |
	cartProducts _ self listCartRequest.
	^cartProducts collect: [ :aBook | 	'(ISBN #', aBook isbn, ') ', aBook title ].! !

TusLibrosRestApiXXX cleanUpAndListenOn: 8080.!

TusLibrosLoginWindow open.!
!TusLibrosClientModel methodsFor: 'requests' stamp: 'IAR 11/26/2021 19:55:11' prior: 50975763!
listCartRequest

	| resp |

	resp _ WebClient 
		htmlSubmit: self url, '/listCart' 
		fields: { 'cartId' -> cartId }
		method: 'GET'.

	resp isSuccess 
		ifTrue: [^ (TusLibrosEncoder decodeBookCollection: resp content readStream) ]
		ifFalse:[ ^ self error: resp content ].! !
!TusLibrosClientModel methodsFor: 'requests' stamp: 'IAR 11/26/2021 19:55:40' prior: 50975786!
listCartRequest

	| resp |

	resp _ WebClient 
		htmlSubmit: self url, '/listCart' 
		fields: { 'cartId' -> cartId }
		method: 'GET'.

	resp isSuccess 
		ifTrue: [^ TusLibrosEncoder decodeBooksInCart: resp content readStream ]
		ifFalse:[ ^ self error: resp content ].! !
!TusLibrosRestApiXXX methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 19:56:10' prior: 50975441!
handleListCart: request

	| cartId |
				
	cartId _ (request fields at: 'cartId') asNumber.
	
	request send200Response: (TusLibrosEncoder encodeBooksInCart: (tusLibrosSystem listCart: cartId)). ! !
!TusLibrosEncoder class methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 19:57:02'!
encodeBooksInCart: booksInCart


	! !
!TusLibrosEncoder class methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 19:57:22'!
decodeBooksInCart: encodedBooksInCart


	! !
!TusLibrosEncoder class methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 19:58:47' prior: 50975820!
encodeBooksInCart: booksInCart

	| encodedBooksInCart |
	
	encodedBooksInCart _ OrderedCollection new.
	booksInCart contents keysAndValuesDo: []! !
!TusLibrosEncoder class methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 20:00:11' prior: 50975830!
encodeBooksInCart: booksInCart

	| encodedBooksInCart |
	
	encodedBooksInCart _ OrderedCollection new.
	
	booksInCart contents keysAndValuesDo: [ :book :quantity |
		encodedBooksInCart add: (self encodeBook: book withQuantity: quantity) ].! !
!TusLibrosEncoder class methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 20:00:30' prior: 50975838!
encodeBooksInCart: booksInCart

	| encodedBooksInCart |
	
	encodedBooksInCart _ OrderedCollection new.
	
	booksInCart contents keysAndValuesDo: [ :book :quantity |
		encodedBooksInCart add: (self encodeBook: book withQuantity: quantity) ].
	
	^ WebUtils jsonEncode: encodedBooksInCart asArray.! !

----SNAPSHOT----(26 November 2021 20:00:34) CuisUniversity-4972.image priorSource: 20541226!
!TusLibrosEncoder class methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 20:02:33'!
encodeBook: aBook withQuantity: aQuantity

	^ Dictionary new
		at: 'book' put: (self encodeBook: aBook)	;
		at: 'quantity' put: aQuantity;
		yourself.! !

----SNAPSHOT----(26 November 2021 20:02:54) CuisUniversity-4972.image priorSource: 20614728!
!TusLibrosEncoder class methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 20:06:03' prior: 50975825!
decodeBooksInCart: encodedBooksInCart

	| decodedBooksInCart |
	decodedBooksInCart _ Bag new.
	
	encodedBooksInCart do: [ :encodedBooksWithQuantity | | book quantity |
		book _ encodedBooksWithQuantity at: 'book'.
		quantity _ encodedBooksWithQuantity at: 'quantity'.
		
		decodedBooksInCart add: book withOccurrences: quantity. ].
	
	^ decodedBooksInCart! !
!TusLibrosEncoder class methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 20:06:08' prior: 50975877!
decodeBooksInCart: encodedBooksInCart

	| decodedBooksInCart |
	
	decodedBooksInCart _ Bag new.
	
	encodedBooksInCart do: [ :encodedBooksWithQuantity | | book quantity |
		book _ encodedBooksWithQuantity at: 'book'.
		quantity _ encodedBooksWithQuantity at: 'quantity'.
		
		decodedBooksInCart add: book withOccurrences: quantity. ].
	
	^ decodedBooksInCart! !
!TusLibrosEncoder class methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 20:06:12' prior: 50975892!
decodeBooksInCart: encodedBooksInCart

	| decodedBooksInCart |
	
	decodedBooksInCart _ Bag new.
	
	encodedBooksInCart do: [ :encodedBookWithQuantity | | book quantity |
		book _ encodedBookWithQuantity at: 'book'.
		quantity _ encodedBookWithQuantity at: 'quantity'.
		
		decodedBooksInCart add: book withOccurrences: quantity. ].
	
	^ decodedBooksInCart! !
!TusLibrosEncoder class methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 20:06:38' prior: 50975907!
decodeBooksInCart: encodedBooksInCart

	| decodedBooksInCart |
	
	decodedBooksInCart _ Bag new.
	
	encodedBooksInCart do: [ :encodedBookWithQuantity | | book quantity |
		book _ self decodeBook: (encodedBookWithQuantity at: 'book').
		quantity _ encodedBookWithQuantity at: 'quantity'.
		
		decodedBooksInCart add: book withOccurrences: quantity. ].
	
	^ decodedBooksInCart! !
!TusLibrosEncoder class methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 20:10:09' prior: 50975922!
decodeBooksInCart: encodedBooksInCart

	| booksInCart |
	
	booksInCart _ Bag new.
	
	encodedBooksInCart do: [ :encodedBookWithQuantity | | book quantity |
		book _ self decodeBook: (encodedBookWithQuantity at: 'book').
		quantity _ encodedBookWithQuantity at: 'quantity'.
		
		booksInCart add: book withOccurrences: quantity. ].
	
	^ booksInCart! !
!TusLibrosEncoder class methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 20:10:32' prior: 50975938!
decodeBooksInCart: encodedBooksInCart

	| booksInCart decodedBooksInCart |
	
	decodedBooksInCart _ WebUtils jsonDecode: encodedBooksInCart.
	booksInCart _ Bag new.
	
	encodedBooksInCart do: [ :encodedBookWithQuantity | | book quantity |
		book _ self decodeBook: (encodedBookWithQuantity at: 'book').
		quantity _ encodedBookWithQuantity at: 'quantity'.
		
		booksInCart add: book withOccurrences: quantity. ].
	
	^ booksInCart! !
!TusLibrosEncoder class methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 20:10:52' prior: 50975953!
decodeBooksInCart: encodedBooksInCart

	| booksInCart decodedBooksInCart |
	
	decodedBooksInCart _ WebUtils jsonDecode: encodedBooksInCart.
	booksInCart _ Bag new.
	
	decodedBooksInCart do: [ :encodedBookWithQuantity | | book quantity |
		book _ self decodeBook: (encodedBookWithQuantity at: 'book').
		quantity _ encodedBookWithQuantity at: 'quantity'.
		
		booksInCart add: book withOccurrences: quantity. ].
	
	^ booksInCart! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:13:15' prior: 50975775!
cartProducts
	
	| cartProducts |
	
	cartProducts _ self listCartRequest.
	^cartProducts contents keysAndValuesDo: [ :book :quantity | 	'(ISBN #', book isbn, ') ', book title, ' (' quantity, ')'].! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:13:39' prior: 50975987!
cartProducts
	
	| booksInCart |
	
	booksInCart _ self listCartRequest.
	^booksInCart contents keysAndValuesDo: [ :book :quantity | 	'(ISBN #', book isbn, ') ', book title, ' (' quantity, ')'].! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:13:51'!
booksInCart
	
	| booksInCart |
	
	booksInCart _ self listCartRequest.
	^booksInCart contents keysAndValuesDo: [ :book :quantity | 	'(ISBN #', book isbn, ') ', book title, ' (' quantity, ')'].! !
!TusLibrosClientMainWindow methodsFor: 'as yet unclassified' stamp: 'IAR 11/26/2021 20:13:51' prior: 50975745!
buildCartColumn
	
	| removeFromCartButtonMorph |
	cartMorph := PluggableListMorph 
		model: self model 
		listGetter: #booksInCart
		indexGetter: #cartIndex
		indexSetter: #cartIndex:.

	removeFromCartButtonMorph _ PluggableButtonMorph 
		model: self model
		stateGetter: nil 
		action: #removeFromCart
		label: 'Remove from cart'.
	
	^ LayoutMorph newColumn
		addMorph: cartMorph;
		addMorph: removeFromCartButtonMorph;
		axisEdgeWeight: 0.5;
		yourself.
		
! !

!methodRemoval: TusLibrosClientModel #cartProducts stamp: 'IAR 11/26/2021 20:13:51'!
cartProducts
	
	| booksInCart |
	
	booksInCart _ self listCartRequest.
	^booksInCart contents keysAndValuesDo: [ :book :quantity | 	'(ISBN #', book isbn, ') ', book title, ' (' quantity, ')'].!
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:14:26' prior: 50976006!
booksInCart
	
	| booksInCart |
	
	booksInCart _ self listCartRequest.
	^booksInCart contents keysAndValuesDo: [ :book :quantity | 	'(ISBN #', book isbn, ') ', book title, ' (' quantity, ')'].! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:14:35' prior: 50976043!
booksInCart
	
	| booksInCart |
	
	booksInCart _ self listCartRequest.
	^booksInCart contents keysAndValuesDo: [ :book :quantity | 	'(ISBN #', book isbn, ') ', book title, ' (', quantity, ')'].! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:14:48'!
renderBook: book withQuantity: quantity

	^ '(ISBN #', book isbn, ') ', book title, ' (', quantity, ')'! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:14:48' prior: 50976052!
booksInCart
	
	| booksInCart |
	
	booksInCart _ self listCartRequest.
	^booksInCart contents keysAndValuesDo: [ :book :quantity | 	self renderBook: book withQuantity: quantity].! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:15:36' prior: 50976061!
renderBook: book withQuantity: quantity

	^ self renderBook: book, ' (', quantity, ')'! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:16:00' prior: 50976077!
renderBook: book withQuantity: quantity

	^ (self renderBook: book), ' (', quantity, ')'! !
!TusLibrosClientModel methodsFor: 'rendering' stamp: 'IAR 11/26/2021 20:16:19'!
renderBook: book

! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:16:41' prior: 50975158!
catalog
	
	catalog ifNotNil:[ ^catalog ].
	
	catalog _ self catalogRequest.
	^ catalog collect: [ :book | self renderBook: book ].! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:16:54' prior: 50976093!
catalog
	
	catalog ifNotNil:[ ^ self renderCatalog ].
	
	catalog _ self catalogRequest.
	^ catalog collect: [ :book | self renderBook: book ].! !
!TusLibrosClientModel methodsFor: 'rendering' stamp: 'IAR 11/26/2021 20:17:13' prior: 50976089!
renderBook: book

	^ '(ISBN #', book isbn, ') ', book title! !
!TusLibrosClientModel methodsFor: 'rendering' stamp: 'IAR 11/26/2021 20:17:18' prior: 50976109!
renderBook: book

	^ '(ISBN #', book isbn, ') ', book title.! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:17:42'!
renderCatalog

	^ catalog collect: [ :book | self renderBook: book ]! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:17:42' prior: 50976101!
catalog
	
	catalog ifNotNil:[ ^ self renderCatalog ].
	
	catalog _ self catalogRequest.
	^ self renderCatalog.! !

TusLibrosRestApiXXX cleanUpAndListenOn: 8080.
TusLibrosLoginWindow open.!
!TusLibrosClientModel methodsFor: 'rendering' stamp: 'IAR 11/26/2021 20:19:08' prior: 50976083!
renderBook: book withQuantity: quantity

	^ (self renderBook: book), ' (', quantity asString, ')'! !

TusLibrosRestApiXXX cleanUpAndListenOn: 8080.
TusLibrosLoginWindow open.!

----SNAPSHOT----(26 November 2021 20:19:52) CuisUniversity-4972.image priorSource: 20615097!

TusLibrosLoginWindow open.!
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:24:44' prior: 50976068!
booksInCart

	| booksInCart |


	self halt.
	
	booksInCart _ self listCartRequest.
	^booksInCart contents keysAndValuesDo: [ :book :quantity | 	self renderBook: book withQuantity: quantity].! !

TusLibrosLoginWindow open.!

(self renderBook: book), ' (', quantity asString, ')'!
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:27:54'!
renderCartContents: booksInCart

	^ booksInCart contents keysAndValuesDo: [ :book :quantity | 	self renderBook: book withQuantity: quantity]! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:27:54' prior: 50976147!
booksInCart

	| booksInCart |


	self halt.
	
	booksInCart _ self listCartRequest.
	^self renderCartContents: booksInCart.! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:28:28' prior: 50976167!
booksInCart

	| booksInCart |
	
	booksInCart _ self listCartRequest.
	^self renderCartContents: booksInCart.! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:30:03' prior: 50976159!
renderCartContents: cartContents

	| renderedCartContents |
	renderedCartContents _ OrderedCollection new.
	cartContents contents keysAndValuesDo: [ :book :quantity |
			renderedCartContents add: (	self renderBook: book withQuantity: quantity)].
	
	^renderedCartContents.! !
!TusLibrosClientModel methodsFor: 'hooks' stamp: 'IAR 11/26/2021 20:30:07' prior: 50976181!
renderCartContents: cartContents

	| renderedCartContents |
	
	renderedCartContents _ OrderedCollection new.
	cartContents contents keysAndValuesDo: [ :book :quantity |
			renderedCartContents add: (	self renderBook: book withQuantity: quantity)].
	
	^renderedCartContents.! !

TusLibrosLoginWindow open.!

----QUIT----(26 November 2021 20:31:43) CuisUniversity-4972.image priorSource: 20623727!